{"version":3,"sources":["test.es6","test.js"],"names":[],"mappings":"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","file":"test.js","sourcesContent":["'use strict';\n\n/*eslint-env node, mocha */\n\nimport 'babel/register';\nimport lint from 'mocha-eslint';\nimport * as assert from 'assert';\nimport * as path from 'path';\nimport * as Promise from 'bluebird';\nimport * as sigv4 from '../src/index.es6';\n\nconst fs = Promise.promisifyAll(require('fs'));\n\n/**\n * Mocha ESLint\n */\n{\n\tlint(['**/*.es6']);\n}\n\n/**\n * Tests from the AWS Documentation\n */\n{\n\t/**\n\t * Implements https://docs.aws.amazon.com/general/latest/gr/sigv4_signing.html\n\t */\n\tdescribe('Signing AWS Requests', () => {\n\t\tlet signedHeaders = 'content-type;host;x-amz-date';\n\t\tlet requestPayload = 'Action=ListUsers&Version=2010-05-08';\n\t\tlet hashedCanonicalRequest = '3511de7e95d28ecd39e9513b642aee07e54f4941150d8df8bf94b328ef7e55e2';\n\n\t\t/**\n\t\t * Implements https://docs.aws.amazon.com/general/latest/gr/sigv4-create-canonical-request.html\n\t\t */\n\t\tdescribe('Task 1: Create a Canonical Request', () => {\n\t\t\tit('should match the hashed payload', () => {\n\t\t\t\tassert.strictEqual(\n\t\t\t\t\tsigv4.hash(requestPayload),\n\t\t\t\t\t'b6359072c78d70ebee1e81adcbab4f01bf2c23245fa365ef83fe8f1f955085e2'\n\t\t\t\t);\n\t\t\t});\n\n\t\t\tlet canonicalForm = 'POST\\n/\\n\\ncontent-type:application/x-www-form-urlencoded; charset=utf-8\\nhost:iam.a' +\n\t\t\t\t'mazonaws.com\\nx-amz-date:20110909T233600Z\\n\\ncontent-type;host;x-amz-date\\nb6359072c78d70ebee1e81adc' +\n\t\t\t\t'bab4f01bf2c23245fa365ef83fe8f1f955085e2';\n\n\t\t\tit('should match the sample canonical form', () => {\n\t\t\t\tassert.strictEqual(\n\t\t\t\t\tsigv4.canonicalRequest(\n\t\t\t\t\t\t'POST',\n\t\t\t\t\t\t'/',\n\t\t\t\t\t\t'',\n\t\t\t\t\t\t'content-type:application/x-www-form-urlencoded; charset=utf-8\\nhost:iam.amazonaws.com\\nx-amz' +\n\t\t\t\t\t\t\t'-date:20110909T233600Z',\n\t\t\t\t\t\tsignedHeaders,\n\t\t\t\t\t\trequestPayload\n\t\t\t\t\t),\n\t\t\t\t\tcanonicalForm\n\t\t\t\t);\n\t\t\t});\n\n\t\t\tit('should match the sample hashed canonical request', () => {\n\t\t\t\tassert.strictEqual(\n\t\t\t\t\tsigv4.hash(canonicalForm),\n\t\t\t\t\thashedCanonicalRequest\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\n\t\tlet algorithm = 'AWS4-HMAC-SHA256';\n\t\tlet credentialScope = '20110909/us-east-1/iam/aws4_request';\n\t\tlet stringToSign = 'AWS4-HMAC-SHA256\\n20110909T233600Z\\n20110909/us-east-1/iam/aws4_request\\n3511de7e95d28ecd' +\n\t\t\t'39e9513b642aee07e54f4941150d8df8bf94b328ef7e55e2';\n\n\t\t/**\n\t\t * Implements https://docs.aws.amazon.com/general/latest/gr/sigv4-create-string-to-sign.html\n\t\t */\n\t\tdescribe('Task 2: Create a String to Sign', () => {\n\t\t\tit('should match the sample string to sign', () => {\n\t\t\t\tassert.strictEqual(\n\t\t\t\t\tsigv4.stringToSign(\n\t\t\t\t\t\talgorithm,\n\t\t\t\t\t\t'20110909T233600Z',\n\t\t\t\t\t\tcredentialScope,\n\t\t\t\t\t\thashedCanonicalRequest\n\t\t\t\t\t),\n\t\t\t\t\tstringToSign\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\n\t\tlet signature = 'ced6826de92d2bdeed8f846f0bf508e8559e98e4b0199114b84c54174deb456c';\n\n\t\t/**\n\t\t * Implements https://docs.aws.amazon.com/general/latest/gr/sigv4-calculate-signature.html\n\t\t */\n\t\tdescribe('Task 3: Calculate the Signature', () => {\n\t\t\tit('should match the hex signature', () => {\n\t\t\t\tassert.strictEqual(\n\t\t\t\t\tsigv4.sign(\n\t\t\t\t\t\t'wJalrXUtnFEMI/K7MDENG+bPxRfiCYEXAMPLEKEY',\n\t\t\t\t\t\t'20110909',\n\t\t\t\t\t\t'us-east-1',\n\t\t\t\t\t\t'iam',\n\t\t\t\t\t\tstringToSign\n\t\t\t\t\t),\n\t\t\t\t\tsignature\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\n\t\t/**\n\t\t * Implements https://docs.aws.amazon.com/general/latest/gr/sigv4-add-signature-to-request.html\n\t\t */\n\t\tdescribe('Task 4: Add the Signing Information to the Request', () => {\n\t\t\tlet accessKeyId = 'AKIDEXAMPLE';\n\n\t\t\tit('should match the authorization', () => {\n\t\t\t\tassert.strictEqual(\n\t\t\t\t\tsigv4.authorization(\n\t\t\t\t\t\talgorithm,\n\t\t\t\t\t\taccessKeyId,\n\t\t\t\t\t\tcredentialScope,\n\t\t\t\t\t\tsignedHeaders,\n\t\t\t\t\t\tsignature\n\t\t\t\t\t),\n\t\t\t\t\t'AWS4-HMAC-SHA256 Credential=AKIDEXAMPLE/20110909/us-east-1/iam/aws4_request, SignedHeaders=conte' +\n\t\t\t\t\t\t'nt-type;host;x-amz-date, Signature=ced6826de92d2bdeed8f846f0bf508e8559e98e4b0199114b84c54174' +\n\t\t\t\t\t\t'deb456c'\n\t\t\t\t);\n\t\t\t});\n\n\t\t\tit('should match the query string', () => {\n\t\t\t\tassert.strictEqual(\n\t\t\t\t\tsigv4.querystringify(\n\t\t\t\t\t\t'Action=CreateUser&UserName=NewUser&Version=2010-05-08&',\n\t\t\t\t\t\talgorithm,\n\t\t\t\t\t\taccessKeyId,\n\t\t\t\t\t\t'20140611/us-east-1/iam/aws4_request',\n\t\t\t\t\t\t'20140611T231318Z',\n\t\t\t\t\t\t'30',\n\t\t\t\t\t\t'host',\n\t\t\t\t\t\tsignature\n\t\t\t\t\t),\n\t\t\t\t\t'Action=CreateUser&UserName=NewUser&Version=2010-05-08&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Cre' +\n\t\t\t\t\t\t'dential=AKIDEXAMPLE%2F20140611%2Fus-east-1%2Fiam%2Faws4_request&X-Amz-Date=20140611T231318Z&' +\n\t\t\t\t\t\t'X-Amz-Expires=30&X-Amz-SignedHeaders=host&X-Amz-Signature=ced6826de92d2bdeed8f846f0bf508e855' +\n\t\t\t\t\t\t'9e98e4b0199114b84c54174deb456c'\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\t});\n}\n\n/**\n * AWS Signature Version 4 Test Suite\n */\n{\n\tlet algorithm = 'AWS4-HMAC-SHA256';\n\tlet accessKeyId = 'AKIDEXAMPLE';\n\tlet requestDate = sigv4.formatDateTime(new Date('Mon, 09 Sep 2011 23:36:00 GMT'));\n\tlet credentialScope = '20110909/us-east-1/host/aws4_request';\n\tlet secretAccessKey = 'wJalrXUtnFEMI/K7MDENG+bPxRfiCYEXAMPLEKEY';\n\tlet suiteDir = path.join(__dirname, 'fixtures/aws4_testsuite/');\n\n\t/**\n\t * Implements https://docs.aws.amazon.com/general/latest/gr/signature-v4-test-suite.html\n\t */\n\tfs.readdirAsync(suiteDir).then(files => {\n\t\tlet groups = files\n\t\t\t.filter(file => file.slice(-5) === '.sreq')\n\t\t\t.map(file => file.slice(0, -5));\n\n\t\tgroups.forEach(group => {\n\t\t\tdescribe('Test Suite: ' + group, () => {\n\t\t\t\tlet request,\n\t\t\t\t\tcanonicalRequest,\n\t\t\t\t\tstringToSign,\n\t\t\t\t\tauthorizationHeader,\n\t\t\t\t\tsignedRequest;\n\n\t\t\t\tbefore(done => {\n\t\t\t\t\tlet files = [\n\t\t\t\t\t\t'req',   // <file-name>.req—the web request to be signed.\n\t\t\t\t\t\t'creq',  // <file-name>.creq—the resulting canonical request.\n\t\t\t\t\t\t'sts',   // <file-name>.sts—the resulting string to sign.\n\t\t\t\t\t\t'authz', // <file-name>.authz—the Authorization header.\n\t\t\t\t\t\t'sreq'   // <file-name>.sreq— the signed request.\n\t\t\t\t\t].map(ext => fs.readFileAsync(path.join(suiteDir, group + '.' + ext), 'utf8'));\n\n\t\t\t\t\tPromise.settle(files).then(results => {\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\trequest,\n\t\t\t\t\t\t\tcanonicalRequest,\n\t\t\t\t\t\t\tstringToSign,\n\t\t\t\t\t\t\tauthorizationHeader,\n\t\t\t\t\t\t\tsignedRequest\n\t\t\t\t\t\t\t] = results.map(r => r.value());\n\n\t\t\t\t\t\tcanonicalRequest = canonicalRequest.replace(/\\r/g, '');\n\t\t\t\t\t\tstringToSign = stringToSign.replace(/\\r/g, '');\n\n\t\t\t\t\t\tdone();\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tdescribe('Task 1: Create a Canonical Request for Signature Version 4', () => {\n\t\t\t\t\tit('should match the canonical request', () => {\n\t\t\t\t\t\tassert.strictEqual(\n\t\t\t\t\t\t\tsigv4.requestToCanonicalRequest(request),\n\t\t\t\t\t\t\tcanonicalRequest\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tdescribe('Task 2: Create a String to Sign for Signature Version 4', () => {\n\t\t\t\t\tit('should match the string to sign', () => {\n\t\t\t\t\t\tassert.strictEqual(\n\t\t\t\t\t\t\tsigv4.stringToSign(\n\t\t\t\t\t\t\t\talgorithm,\n\t\t\t\t\t\t\t\trequestDate,\n\t\t\t\t\t\t\t\tcredentialScope,\n\t\t\t\t\t\t\t\tsigv4.hash(canonicalRequest)\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tstringToSign\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tdescribe('Task 3: Calculate the AWS Signature Version 4', () => {\n\t\t\t\t\tit('should match the authorization header value', () => {\n\t\t\t\t\t\tlet signedHeaders = canonicalRequest.split('\\n').slice(-2, -1)[0];\n\t\t\t\t\t\tlet signature = sigv4.sign(\n\t\t\t\t\t\t\tsecretAccessKey,\n\t\t\t\t\t\t\trequestDate.slice(0, 8),\n\t\t\t\t\t\t\t'us-east-1',\n\t\t\t\t\t\t\t'host',\n\t\t\t\t\t\t\tstringToSign\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tassert.strictEqual(\n\t\t\t\t\t\t\tsigv4.authorization(\n\t\t\t\t\t\t\t\talgorithm,\n\t\t\t\t\t\t\t\taccessKeyId,\n\t\t\t\t\t\t\t\tcredentialScope,\n\t\t\t\t\t\t\t\tsignedHeaders,\n\t\t\t\t\t\t\t\tsignature\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tauthorizationHeader\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tdescribe('The Signed Request', () => {\n\t\t\t\t\tit('should match the signed request value', () => {\n\t\t\t\t\t\tassert.strictEqual(\n\t\t\t\t\t\t\tsigv4.addAuthorization(request, authorizationHeader),\n\t\t\t\t\t\t\tsignedRequest\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t});\n}","'use strict';\n\n/*eslint-env node, mocha */\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nrequire('babel/register');\n\nvar _mochaEslint = require('mocha-eslint');\n\nvar _mochaEslint2 = _interopRequireDefault(_mochaEslint);\n\nvar _assert = require('assert');\n\nvar assert = _interopRequireWildcard(_assert);\n\nvar _path = require('path');\n\nvar path = _interopRequireWildcard(_path);\n\nvar _bluebird = require('bluebird');\n\nvar Promise = _interopRequireWildcard(_bluebird);\n\nvar _srcIndexEs6 = require('../src/index.es6');\n\nvar sigv4 = _interopRequireWildcard(_srcIndexEs6);\n\nvar fs = Promise.promisifyAll(require('fs'));\n\n/**\n * Mocha ESLint\n */\n{\n\t(0, _mochaEslint2['default'])(['**/*.es6']);\n}\n\n/**\n * Tests from the AWS Documentation\n */\n{\n\t/**\n  * Implements https://docs.aws.amazon.com/general/latest/gr/sigv4_signing.html\n  */\n\tdescribe('Signing AWS Requests', function () {\n\t\tvar signedHeaders = 'content-type;host;x-amz-date';\n\t\tvar requestPayload = 'Action=ListUsers&Version=2010-05-08';\n\t\tvar hashedCanonicalRequest = '3511de7e95d28ecd39e9513b642aee07e54f4941150d8df8bf94b328ef7e55e2';\n\n\t\t/**\n   * Implements https://docs.aws.amazon.com/general/latest/gr/sigv4-create-canonical-request.html\n   */\n\t\tdescribe('Task 1: Create a Canonical Request', function () {\n\t\t\tit('should match the hashed payload', function () {\n\t\t\t\tassert.strictEqual(sigv4.hash(requestPayload), 'b6359072c78d70ebee1e81adcbab4f01bf2c23245fa365ef83fe8f1f955085e2');\n\t\t\t});\n\n\t\t\tvar canonicalForm = 'POST\\n/\\n\\ncontent-type:application/x-www-form-urlencoded; charset=utf-8\\nhost:iam.a' + 'mazonaws.com\\nx-amz-date:20110909T233600Z\\n\\ncontent-type;host;x-amz-date\\nb6359072c78d70ebee1e81adc' + 'bab4f01bf2c23245fa365ef83fe8f1f955085e2';\n\n\t\t\tit('should match the sample canonical form', function () {\n\t\t\t\tassert.strictEqual(sigv4.canonicalRequest('POST', '/', '', 'content-type:application/x-www-form-urlencoded; charset=utf-8\\nhost:iam.amazonaws.com\\nx-amz' + '-date:20110909T233600Z', signedHeaders, requestPayload), canonicalForm);\n\t\t\t});\n\n\t\t\tit('should match the sample hashed canonical request', function () {\n\t\t\t\tassert.strictEqual(sigv4.hash(canonicalForm), hashedCanonicalRequest);\n\t\t\t});\n\t\t});\n\n\t\tvar algorithm = 'AWS4-HMAC-SHA256';\n\t\tvar credentialScope = '20110909/us-east-1/iam/aws4_request';\n\t\tvar stringToSign = 'AWS4-HMAC-SHA256\\n20110909T233600Z\\n20110909/us-east-1/iam/aws4_request\\n3511de7e95d28ecd' + '39e9513b642aee07e54f4941150d8df8bf94b328ef7e55e2';\n\n\t\t/**\n   * Implements https://docs.aws.amazon.com/general/latest/gr/sigv4-create-string-to-sign.html\n   */\n\t\tdescribe('Task 2: Create a String to Sign', function () {\n\t\t\tit('should match the sample string to sign', function () {\n\t\t\t\tassert.strictEqual(sigv4.stringToSign(algorithm, '20110909T233600Z', credentialScope, hashedCanonicalRequest), stringToSign);\n\t\t\t});\n\t\t});\n\n\t\tvar signature = 'ced6826de92d2bdeed8f846f0bf508e8559e98e4b0199114b84c54174deb456c';\n\n\t\t/**\n   * Implements https://docs.aws.amazon.com/general/latest/gr/sigv4-calculate-signature.html\n   */\n\t\tdescribe('Task 3: Calculate the Signature', function () {\n\t\t\tit('should match the hex signature', function () {\n\t\t\t\tassert.strictEqual(sigv4.sign('wJalrXUtnFEMI/K7MDENG+bPxRfiCYEXAMPLEKEY', '20110909', 'us-east-1', 'iam', stringToSign), signature);\n\t\t\t});\n\t\t});\n\n\t\t/**\n   * Implements https://docs.aws.amazon.com/general/latest/gr/sigv4-add-signature-to-request.html\n   */\n\t\tdescribe('Task 4: Add the Signing Information to the Request', function () {\n\t\t\tvar accessKeyId = 'AKIDEXAMPLE';\n\n\t\t\tit('should match the authorization', function () {\n\t\t\t\tassert.strictEqual(sigv4.authorization(algorithm, accessKeyId, credentialScope, signedHeaders, signature), 'AWS4-HMAC-SHA256 Credential=AKIDEXAMPLE/20110909/us-east-1/iam/aws4_request, SignedHeaders=conte' + 'nt-type;host;x-amz-date, Signature=ced6826de92d2bdeed8f846f0bf508e8559e98e4b0199114b84c54174' + 'deb456c');\n\t\t\t});\n\n\t\t\tit('should match the query string', function () {\n\t\t\t\tassert.strictEqual(sigv4.querystringify('Action=CreateUser&UserName=NewUser&Version=2010-05-08&', algorithm, accessKeyId, '20140611/us-east-1/iam/aws4_request', '20140611T231318Z', '30', 'host', signature), 'Action=CreateUser&UserName=NewUser&Version=2010-05-08&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Cre' + 'dential=AKIDEXAMPLE%2F20140611%2Fus-east-1%2Fiam%2Faws4_request&X-Amz-Date=20140611T231318Z&' + 'X-Amz-Expires=30&X-Amz-SignedHeaders=host&X-Amz-Signature=ced6826de92d2bdeed8f846f0bf508e855' + '9e98e4b0199114b84c54174deb456c');\n\t\t\t});\n\t\t});\n\t});\n}\n\n/**\n * AWS Signature Version 4 Test Suite\n */\n{\n\t(function () {\n\t\tvar algorithm = 'AWS4-HMAC-SHA256';\n\t\tvar accessKeyId = 'AKIDEXAMPLE';\n\t\tvar requestDate = sigv4.formatDateTime(new Date('Mon, 09 Sep 2011 23:36:00 GMT'));\n\t\tvar credentialScope = '20110909/us-east-1/host/aws4_request';\n\t\tvar secretAccessKey = 'wJalrXUtnFEMI/K7MDENG+bPxRfiCYEXAMPLEKEY';\n\t\tvar suiteDir = path.join(__dirname, 'fixtures/aws4_testsuite/');\n\n\t\t/**\n   * Implements https://docs.aws.amazon.com/general/latest/gr/signature-v4-test-suite.html\n   */\n\t\tfs.readdirAsync(suiteDir).then(function (files) {\n\t\t\tvar groups = files.filter(function (file) {\n\t\t\t\treturn file.slice(-5) === '.sreq';\n\t\t\t}).map(function (file) {\n\t\t\t\treturn file.slice(0, -5);\n\t\t\t});\n\n\t\t\tgroups.forEach(function (group) {\n\t\t\t\tdescribe('Test Suite: ' + group, function () {\n\t\t\t\t\tvar request = undefined,\n\t\t\t\t\t    canonicalRequest = undefined,\n\t\t\t\t\t    stringToSign = undefined,\n\t\t\t\t\t    authorizationHeader = undefined,\n\t\t\t\t\t    signedRequest = undefined;\n\n\t\t\t\t\tbefore(function (done) {\n\t\t\t\t\t\tvar files = ['req', // <file-name>.req—the web request to be signed.\n\t\t\t\t\t\t'creq', // <file-name>.creq—the resulting canonical request.\n\t\t\t\t\t\t'sts', // <file-name>.sts—the resulting string to sign.\n\t\t\t\t\t\t'authz', // <file-name>.authz—the Authorization header.\n\t\t\t\t\t\t'sreq' // <file-name>.sreq— the signed request.\n\t\t\t\t\t\t].map(function (ext) {\n\t\t\t\t\t\t\treturn fs.readFileAsync(path.join(suiteDir, group + '.' + ext), 'utf8');\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tPromise.settle(files).then(function (results) {\n\t\t\t\t\t\t\tvar _results$map = results.map(function (r) {\n\t\t\t\t\t\t\t\treturn r.value();\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tvar _results$map2 = _slicedToArray(_results$map, 5);\n\n\t\t\t\t\t\t\trequest = _results$map2[0];\n\t\t\t\t\t\t\tcanonicalRequest = _results$map2[1];\n\t\t\t\t\t\t\tstringToSign = _results$map2[2];\n\t\t\t\t\t\t\tauthorizationHeader = _results$map2[3];\n\t\t\t\t\t\t\tsignedRequest = _results$map2[4];\n\n\t\t\t\t\t\t\tcanonicalRequest = canonicalRequest.replace(/\\r/g, '');\n\t\t\t\t\t\t\tstringToSign = stringToSign.replace(/\\r/g, '');\n\n\t\t\t\t\t\t\tdone();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tdescribe('Task 1: Create a Canonical Request for Signature Version 4', function () {\n\t\t\t\t\t\tit('should match the canonical request', function () {\n\t\t\t\t\t\t\tassert.strictEqual(sigv4.requestToCanonicalRequest(request), canonicalRequest);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tdescribe('Task 2: Create a String to Sign for Signature Version 4', function () {\n\t\t\t\t\t\tit('should match the string to sign', function () {\n\t\t\t\t\t\t\tassert.strictEqual(sigv4.stringToSign(algorithm, requestDate, credentialScope, sigv4.hash(canonicalRequest)), stringToSign);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tdescribe('Task 3: Calculate the AWS Signature Version 4', function () {\n\t\t\t\t\t\tit('should match the authorization header value', function () {\n\t\t\t\t\t\t\tvar signedHeaders = canonicalRequest.split('\\n').slice(-2, -1)[0];\n\t\t\t\t\t\t\tvar signature = sigv4.sign(secretAccessKey, requestDate.slice(0, 8), 'us-east-1', 'host', stringToSign);\n\n\t\t\t\t\t\t\tassert.strictEqual(sigv4.authorization(algorithm, accessKeyId, credentialScope, signedHeaders, signature), authorizationHeader);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tdescribe('The Signed Request', function () {\n\t\t\t\t\t\tit('should match the signed request value', function () {\n\t\t\t\t\t\t\tassert.strictEqual(sigv4.addAuthorization(request, authorizationHeader), signedRequest);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t})();\n}\n\n//# sourceMappingURL=test.js.map"]}